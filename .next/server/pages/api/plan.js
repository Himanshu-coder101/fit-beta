"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/plan";
exports.ids = ["pages/api/plan"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fplan&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cplan.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fplan&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cplan.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_plan_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\plan.js */ \"(api)/./pages/api/plan.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_plan_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_plan_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/plan\",\n        pathname: \"/api/plan\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_plan_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnBsYW4mcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3BsYW4uanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDa0Q7QUFDbEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLCtDQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywrQ0FBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXR0cmFjay1wcm8vPzVkZmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxwbGFuLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcGxhblwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3BsYW5cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fplan&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cplan.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/aiExerciseSelector.js":
/*!***********************************!*\
  !*** ./lib/aiExerciseSelector.js ***!
  \***********************************/
/***/ ((module) => {

eval("// lib/aiExerciseSelector.js\n// Deterministic workout generator (AI optional)\n\nfunction normalizeInputs(inputs = {}) {\n    return {\n        goal: (inputs.goal || \"general\").toLowerCase(),\n        experience: (inputs.experience || \"beginner\").toLowerCase(),\n        daysPerWeek: Number(inputs.daysPerWeek) || 3,\n        equipment: inputs.equipment || \"minimal\",\n        preferences: inputs.preferences || {}\n    };\n}\nconst TEMPLATES = {\n    fullBody: (days)=>{\n        const out = [];\n        for(let i = 1; i <= days; i++){\n            out.push({\n                name: `Full Body ${i}`,\n                focus: [\n                    \"push\",\n                    \"pull\",\n                    \"legs\"\n                ]\n            });\n        }\n        return out;\n    },\n    upperLower: (days)=>{\n        if (days === 2) return [\n            {\n                name: \"Upper A\"\n            },\n            {\n                name: \"Lower A\"\n            }\n        ];\n        if (days === 4) return [\n            {\n                name: \"Upper A\"\n            },\n            {\n                name: \"Lower A\"\n            },\n            {\n                name: \"Upper B\"\n            },\n            {\n                name: \"Lower B\"\n            }\n        ];\n        return TEMPLATES.fullBody(days);\n    },\n    pushPullLegs: (days)=>{\n        const base = [\n            {\n                name: \"Push\"\n            },\n            {\n                name: \"Pull\"\n            },\n            {\n                name: \"Legs\"\n            }\n        ];\n        return Array.from({\n            length: days\n        }, (_, i)=>base[i % 3]);\n    }\n};\nfunction selectTemplate({ goal, experience, daysPerWeek }) {\n    if (experience === \"beginner\" && daysPerWeek <= 3) return TEMPLATES.fullBody(daysPerWeek);\n    if (goal === \"strength\") return TEMPLATES.pushPullLegs(daysPerWeek);\n    if (goal === \"hypertrophy\") return TEMPLATES.upperLower(daysPerWeek);\n    return TEMPLATES.fullBody(daysPerWeek);\n}\nfunction enrich(sessions) {\n    return sessions.map((s, idx)=>({\n            ...s,\n            day: `Day ${idx + 1}`,\n            exercises: [\n                {\n                    name: \"Placeholder Exercise\"\n                }\n            ]\n        }));\n}\n// ðŸ”¥ AI disabled by default â€” only manual button calls it\nasync function fetchAIRecommendations() {\n    return null;\n}\nasync function generateWorkoutSplit(rawInputs = {}) {\n    const inputs = normalizeInputs(rawInputs);\n    // Always rule-based\n    let sessions = enrich(selectTemplate(inputs));\n    return {\n        meta: {\n            generatedAt: new Date().toISOString(),\n            generator: \"rule-based\"\n        },\n        inputs,\n        sessions\n    };\n}\nmodule.exports = {\n    generateWorkoutSplit\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvYWlFeGVyY2lzZVNlbGVjdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFBLDRCQUE0QjtBQUM1QixnREFBZ0Q7O0FBRWhELFNBQVNBLGdCQUFnQkMsU0FBUyxDQUFDLENBQUM7SUFDbEMsT0FBTztRQUNMQyxNQUFNLENBQUNELE9BQU9DLElBQUksSUFBSSxTQUFRLEVBQUdDLFdBQVc7UUFDNUNDLFlBQVksQ0FBQ0gsT0FBT0csVUFBVSxJQUFJLFVBQVMsRUFBR0QsV0FBVztRQUN6REUsYUFBYUMsT0FBT0wsT0FBT0ksV0FBVyxLQUFLO1FBQzNDRSxXQUFXTixPQUFPTSxTQUFTLElBQUk7UUFDL0JDLGFBQWFQLE9BQU9PLFdBQVcsSUFBSSxDQUFDO0lBQ3RDO0FBQ0Y7QUFFQSxNQUFNQyxZQUFZO0lBQ2hCQyxVQUFVLENBQUNDO1FBQ1QsTUFBTUMsTUFBTSxFQUFFO1FBQ2QsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLEtBQUtGLE1BQU1FLElBQUs7WUFDOUJELElBQUlFLElBQUksQ0FBQztnQkFBRUMsTUFBTSxDQUFDLFVBQVUsRUFBRUYsRUFBRSxDQUFDO2dCQUFFRyxPQUFPO29CQUFDO29CQUFRO29CQUFRO2lCQUFPO1lBQUM7UUFDckU7UUFDQSxPQUFPSjtJQUNUO0lBRUFLLFlBQVksQ0FBQ047UUFDWCxJQUFJQSxTQUFTLEdBQUcsT0FBTztZQUNyQjtnQkFBRUksTUFBTTtZQUFVO1lBQUc7Z0JBQUVBLE1BQU07WUFBVTtTQUN4QztRQUNELElBQUlKLFNBQVMsR0FBRyxPQUFPO1lBQ3JCO2dCQUFFSSxNQUFNO1lBQVU7WUFBRztnQkFBRUEsTUFBTTtZQUFVO1lBQ3ZDO2dCQUFFQSxNQUFNO1lBQVU7WUFBRztnQkFBRUEsTUFBTTtZQUFVO1NBQ3hDO1FBQ0QsT0FBT04sVUFBVUMsUUFBUSxDQUFDQztJQUM1QjtJQUVBTyxjQUFjLENBQUNQO1FBQ2IsTUFBTVEsT0FBTztZQUNYO2dCQUFFSixNQUFNO1lBQU87WUFBRztnQkFBRUEsTUFBTTtZQUFPO1lBQUc7Z0JBQUVBLE1BQU07WUFBTztTQUNwRDtRQUNELE9BQU9LLE1BQU1DLElBQUksQ0FBQztZQUFFQyxRQUFRWDtRQUFLLEdBQUcsQ0FBQ1ksR0FBR1YsSUFBTU0sSUFBSSxDQUFDTixJQUFJLEVBQUU7SUFDM0Q7QUFDRjtBQUVBLFNBQVNXLGVBQWUsRUFBRXRCLElBQUksRUFBRUUsVUFBVSxFQUFFQyxXQUFXLEVBQUU7SUFDdkQsSUFBSUQsZUFBZSxjQUFjQyxlQUFlLEdBQzlDLE9BQU9JLFVBQVVDLFFBQVEsQ0FBQ0w7SUFFNUIsSUFBSUgsU0FBUyxZQUFZLE9BQU9PLFVBQVVTLFlBQVksQ0FBQ2I7SUFDdkQsSUFBSUgsU0FBUyxlQUFlLE9BQU9PLFVBQVVRLFVBQVUsQ0FBQ1o7SUFDeEQsT0FBT0ksVUFBVUMsUUFBUSxDQUFDTDtBQUM1QjtBQUVBLFNBQVNvQixPQUFPQyxRQUFRO0lBQ3RCLE9BQU9BLFNBQVNDLEdBQUcsQ0FBQyxDQUFDQyxHQUFHQyxNQUFTO1lBQy9CLEdBQUdELENBQUM7WUFDSkUsS0FBSyxDQUFDLElBQUksRUFBRUQsTUFBTSxFQUFFLENBQUM7WUFDckJFLFdBQVc7Z0JBQUM7b0JBQUVoQixNQUFNO2dCQUF1QjthQUFFO1FBQy9DO0FBQ0Y7QUFFQSwwREFBMEQ7QUFDMUQsZUFBZWlCO0lBQ2IsT0FBTztBQUNUO0FBRUEsZUFBZUMscUJBQXFCQyxZQUFZLENBQUMsQ0FBQztJQUNoRCxNQUFNakMsU0FBU0QsZ0JBQWdCa0M7SUFFL0Isb0JBQW9CO0lBQ3BCLElBQUlSLFdBQVdELE9BQU9ELGVBQWV2QjtJQUVyQyxPQUFPO1FBQ0xrQyxNQUFNO1lBQUVDLGFBQWEsSUFBSUMsT0FBT0MsV0FBVztZQUFJQyxXQUFXO1FBQWE7UUFDdkV0QztRQUNBeUI7SUFDRjtBQUNGO0FBRUFjLE9BQU9DLE9BQU8sR0FBRztJQUFFUjtBQUFxQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpdHRyYWNrLXByby8uL2xpYi9haUV4ZXJjaXNlU2VsZWN0b3IuanM/M2U4NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvYWlFeGVyY2lzZVNlbGVjdG9yLmpzXHJcbi8vIERldGVybWluaXN0aWMgd29ya291dCBnZW5lcmF0b3IgKEFJIG9wdGlvbmFsKVxyXG5cclxuZnVuY3Rpb24gbm9ybWFsaXplSW5wdXRzKGlucHV0cyA9IHt9KSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGdvYWw6IChpbnB1dHMuZ29hbCB8fCBcImdlbmVyYWxcIikudG9Mb3dlckNhc2UoKSxcclxuICAgIGV4cGVyaWVuY2U6IChpbnB1dHMuZXhwZXJpZW5jZSB8fCBcImJlZ2lubmVyXCIpLnRvTG93ZXJDYXNlKCksXHJcbiAgICBkYXlzUGVyV2VlazogTnVtYmVyKGlucHV0cy5kYXlzUGVyV2VlaykgfHwgMyxcclxuICAgIGVxdWlwbWVudDogaW5wdXRzLmVxdWlwbWVudCB8fCBcIm1pbmltYWxcIixcclxuICAgIHByZWZlcmVuY2VzOiBpbnB1dHMucHJlZmVyZW5jZXMgfHwge31cclxuICB9O1xyXG59XHJcblxyXG5jb25zdCBURU1QTEFURVMgPSB7XHJcbiAgZnVsbEJvZHk6IChkYXlzKSA9PiB7XHJcbiAgICBjb25zdCBvdXQgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGRheXM7IGkrKykge1xyXG4gICAgICBvdXQucHVzaCh7IG5hbWU6IGBGdWxsIEJvZHkgJHtpfWAsIGZvY3VzOiBbXCJwdXNoXCIsIFwicHVsbFwiLCBcImxlZ3NcIl0gfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0O1xyXG4gIH0sXHJcblxyXG4gIHVwcGVyTG93ZXI6IChkYXlzKSA9PiB7XHJcbiAgICBpZiAoZGF5cyA9PT0gMikgcmV0dXJuIFtcclxuICAgICAgeyBuYW1lOiBcIlVwcGVyIEFcIiB9LCB7IG5hbWU6IFwiTG93ZXIgQVwiIH1cclxuICAgIF07XHJcbiAgICBpZiAoZGF5cyA9PT0gNCkgcmV0dXJuIFtcclxuICAgICAgeyBuYW1lOiBcIlVwcGVyIEFcIiB9LCB7IG5hbWU6IFwiTG93ZXIgQVwiIH0sXHJcbiAgICAgIHsgbmFtZTogXCJVcHBlciBCXCIgfSwgeyBuYW1lOiBcIkxvd2VyIEJcIiB9XHJcbiAgICBdO1xyXG4gICAgcmV0dXJuIFRFTVBMQVRFUy5mdWxsQm9keShkYXlzKTtcclxuICB9LFxyXG5cclxuICBwdXNoUHVsbExlZ3M6IChkYXlzKSA9PiB7XHJcbiAgICBjb25zdCBiYXNlID0gW1xyXG4gICAgICB7IG5hbWU6IFwiUHVzaFwiIH0sIHsgbmFtZTogXCJQdWxsXCIgfSwgeyBuYW1lOiBcIkxlZ3NcIiB9XHJcbiAgICBdO1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IGRheXMgfSwgKF8sIGkpID0+IGJhc2VbaSAlIDNdKTtcclxuICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBzZWxlY3RUZW1wbGF0ZSh7IGdvYWwsIGV4cGVyaWVuY2UsIGRheXNQZXJXZWVrIH0pIHtcclxuICBpZiAoZXhwZXJpZW5jZSA9PT0gXCJiZWdpbm5lclwiICYmIGRheXNQZXJXZWVrIDw9IDMpXHJcbiAgICByZXR1cm4gVEVNUExBVEVTLmZ1bGxCb2R5KGRheXNQZXJXZWVrKTtcclxuXHJcbiAgaWYgKGdvYWwgPT09IFwic3RyZW5ndGhcIikgcmV0dXJuIFRFTVBMQVRFUy5wdXNoUHVsbExlZ3MoZGF5c1BlcldlZWspO1xyXG4gIGlmIChnb2FsID09PSBcImh5cGVydHJvcGh5XCIpIHJldHVybiBURU1QTEFURVMudXBwZXJMb3dlcihkYXlzUGVyV2Vlayk7XHJcbiAgcmV0dXJuIFRFTVBMQVRFUy5mdWxsQm9keShkYXlzUGVyV2Vlayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVucmljaChzZXNzaW9ucykge1xyXG4gIHJldHVybiBzZXNzaW9ucy5tYXAoKHMsIGlkeCkgPT4gKHtcclxuICAgIC4uLnMsXHJcbiAgICBkYXk6IGBEYXkgJHtpZHggKyAxfWAsXHJcbiAgICBleGVyY2lzZXM6IFt7IG5hbWU6IFwiUGxhY2Vob2xkZXIgRXhlcmNpc2VcIiB9XVxyXG4gIH0pKTtcclxufVxyXG5cclxuLy8g8J+UpSBBSSBkaXNhYmxlZCBieSBkZWZhdWx0IOKAlCBvbmx5IG1hbnVhbCBidXR0b24gY2FsbHMgaXRcclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBSVJlY29tbWVuZGF0aW9ucygpIHtcclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVXb3Jrb3V0U3BsaXQocmF3SW5wdXRzID0ge30pIHtcclxuICBjb25zdCBpbnB1dHMgPSBub3JtYWxpemVJbnB1dHMocmF3SW5wdXRzKTtcclxuXHJcbiAgLy8gQWx3YXlzIHJ1bGUtYmFzZWRcclxuICBsZXQgc2Vzc2lvbnMgPSBlbnJpY2goc2VsZWN0VGVtcGxhdGUoaW5wdXRzKSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBtZXRhOiB7IGdlbmVyYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksIGdlbmVyYXRvcjogXCJydWxlLWJhc2VkXCIgfSxcclxuICAgIGlucHV0cyxcclxuICAgIHNlc3Npb25zXHJcbiAgfTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7IGdlbmVyYXRlV29ya291dFNwbGl0IH07XHJcbiJdLCJuYW1lcyI6WyJub3JtYWxpemVJbnB1dHMiLCJpbnB1dHMiLCJnb2FsIiwidG9Mb3dlckNhc2UiLCJleHBlcmllbmNlIiwiZGF5c1BlcldlZWsiLCJOdW1iZXIiLCJlcXVpcG1lbnQiLCJwcmVmZXJlbmNlcyIsIlRFTVBMQVRFUyIsImZ1bGxCb2R5IiwiZGF5cyIsIm91dCIsImkiLCJwdXNoIiwibmFtZSIsImZvY3VzIiwidXBwZXJMb3dlciIsInB1c2hQdWxsTGVncyIsImJhc2UiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJfIiwic2VsZWN0VGVtcGxhdGUiLCJlbnJpY2giLCJzZXNzaW9ucyIsIm1hcCIsInMiLCJpZHgiLCJkYXkiLCJleGVyY2lzZXMiLCJmZXRjaEFJUmVjb21tZW5kYXRpb25zIiwiZ2VuZXJhdGVXb3Jrb3V0U3BsaXQiLCJyYXdJbnB1dHMiLCJtZXRhIiwiZ2VuZXJhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJnZW5lcmF0b3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/aiExerciseSelector.js\n");

/***/ }),

/***/ "(api)/./lib/planGenerator.js":
/*!******************************!*\
  !*** ./lib/planGenerator.js ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// lib/planGenerator.js\n// Wrapper around aiExerciseSelector\n\nconst { generateWorkoutSplit } = __webpack_require__(/*! ./aiExerciseSelector */ \"(api)/./lib/aiExerciseSelector.js\");\nasync function generateProfessionalPlan(profile = {}) {\n    return await generateWorkoutSplit(profile);\n}\nmodule.exports = {\n    generateProfessionalPlan\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcGxhbkdlbmVyYXRvci5qcyIsIm1hcHBpbmdzIjoiQUFBQSx1QkFBdUI7QUFDdkIsb0NBQW9DOztBQUVwQyxNQUFNLEVBQUVBLG9CQUFvQixFQUFFLEdBQUdDLG1CQUFPQSxDQUFDLCtEQUFzQjtBQUUvRCxlQUFlQyx5QkFBeUJDLFVBQVUsQ0FBQyxDQUFDO0lBQ2xELE9BQU8sTUFBTUgscUJBQXFCRztBQUNwQztBQUVBQyxPQUFPQyxPQUFPLEdBQUc7SUFBRUg7QUFBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maXR0cmFjay1wcm8vLi9saWIvcGxhbkdlbmVyYXRvci5qcz84ZTNmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGxpYi9wbGFuR2VuZXJhdG9yLmpzXG4vLyBXcmFwcGVyIGFyb3VuZCBhaUV4ZXJjaXNlU2VsZWN0b3JcblxuY29uc3QgeyBnZW5lcmF0ZVdvcmtvdXRTcGxpdCB9ID0gcmVxdWlyZShcIi4vYWlFeGVyY2lzZVNlbGVjdG9yXCIpO1xuXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVByb2Zlc3Npb25hbFBsYW4ocHJvZmlsZSA9IHt9KSB7XG4gIHJldHVybiBhd2FpdCBnZW5lcmF0ZVdvcmtvdXRTcGxpdChwcm9maWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7IGdlbmVyYXRlUHJvZmVzc2lvbmFsUGxhbiB9O1xuIl0sIm5hbWVzIjpbImdlbmVyYXRlV29ya291dFNwbGl0IiwicmVxdWlyZSIsImdlbmVyYXRlUHJvZmVzc2lvbmFsUGxhbiIsInByb2ZpbGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/planGenerator.js\n");

/***/ }),

/***/ "(api)/./pages/api/plan.js":
/*!***************************!*\
  !*** ./pages/api/plan.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_planGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/planGenerator */ \"(api)/./lib/planGenerator.js\");\n/* harmony import */ var _lib_planGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lib_planGenerator__WEBPACK_IMPORTED_MODULE_0__);\n// pages/api/plan.js\n\nlet savedPlan = null;\nasync function handler(req, res) {\n    // POST â€” generate a new plan\n    if (req.method === \"POST\") {\n        const profile = req.body || {};\n        const plan = (0,_lib_planGenerator__WEBPACK_IMPORTED_MODULE_0__.generateProfessionalPlan)(profile);\n        // Auto-refine if OpenAI key exists\n        if (process.env.OPENAI_API_KEY) {\n            try {\n                const refineUrl = process.env.VERCEL_URL ? `https://${process.env.VERCEL_URL}/api/ai-refine-plan` : \"http://localhost:3000/api/ai-refine-plan\";\n                const refineRes = await fetch(refineUrl, {\n                    method: \"POST\",\n                    headers: {\n                        \"content-type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        plan,\n                        profile\n                    })\n                });\n                if (refineRes.ok) {\n                    const json = await refineRes.json();\n                    const refined = json.refined || plan;\n                    savedPlan = refined;\n                    return res.status(200).json(refined);\n                }\n            } catch (err) {\n                console.warn(\"AI refine failed:\", err.message);\n            }\n        }\n        savedPlan = plan;\n        return res.status(200).json(plan);\n    }\n    // GET â€” return saved plan or create default one\n    if (!savedPlan) {\n        savedPlan = (0,_lib_planGenerator__WEBPACK_IMPORTED_MODULE_0__.generateProfessionalPlan)({\n            goal: \"General Fitness\",\n            experience: \"beginner\",\n            daysPerWeek: 3,\n            timePerSession: 40,\n            equipment: [\n                \"bodyweight\"\n            ]\n        });\n    }\n    return res.status(200).json(savedPlan);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvcGxhbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxvQkFBb0I7QUFDK0M7QUFFbkUsSUFBSUMsWUFBWTtBQUVELGVBQWVDLFFBQVFDLEdBQUcsRUFBRUMsR0FBRztJQUM1Qyw2QkFBNkI7SUFDN0IsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLFFBQVE7UUFDekIsTUFBTUMsVUFBVUgsSUFBSUksSUFBSSxJQUFJLENBQUM7UUFDN0IsTUFBTUMsT0FBT1IsNEVBQXdCQSxDQUFDTTtRQUV0QyxtQ0FBbUM7UUFDbkMsSUFBSUcsUUFBUUMsR0FBRyxDQUFDQyxjQUFjLEVBQUU7WUFDOUIsSUFBSTtnQkFDRixNQUFNQyxZQUFZSCxRQUFRQyxHQUFHLENBQUNHLFVBQVUsR0FDcEMsQ0FBQyxRQUFRLEVBQUVKLFFBQVFDLEdBQUcsQ0FBQ0csVUFBVSxDQUFDLG1CQUFtQixDQUFDLEdBQ3REO2dCQUVKLE1BQU1DLFlBQVksTUFBTUMsTUFBTUgsV0FBVztvQkFDdkNQLFFBQVE7b0JBQ1JXLFNBQVM7d0JBQUUsZ0JBQWdCO29CQUFtQjtvQkFDOUNULE1BQU1VLEtBQUtDLFNBQVMsQ0FBQzt3QkFBRVY7d0JBQU1GO29CQUFRO2dCQUN2QztnQkFFQSxJQUFJUSxVQUFVSyxFQUFFLEVBQUU7b0JBQ2hCLE1BQU1DLE9BQU8sTUFBTU4sVUFBVU0sSUFBSTtvQkFDakMsTUFBTUMsVUFBVUQsS0FBS0MsT0FBTyxJQUFJYjtvQkFDaENQLFlBQVlvQjtvQkFDWixPQUFPakIsSUFBSWtCLE1BQU0sQ0FBQyxLQUFLRixJQUFJLENBQUNDO2dCQUM5QjtZQUNGLEVBQUUsT0FBT0UsS0FBSztnQkFDWkMsUUFBUUMsSUFBSSxDQUFDLHFCQUFxQkYsSUFBSUcsT0FBTztZQUMvQztRQUNGO1FBRUF6QixZQUFZTztRQUNaLE9BQU9KLElBQUlrQixNQUFNLENBQUMsS0FBS0YsSUFBSSxDQUFDWjtJQUM5QjtJQUVBLGdEQUFnRDtJQUNoRCxJQUFJLENBQUNQLFdBQVc7UUFDZEEsWUFBWUQsNEVBQXdCQSxDQUFDO1lBQ25DMkIsTUFBTTtZQUNOQyxZQUFZO1lBQ1pDLGFBQWE7WUFDYkMsZ0JBQWdCO1lBQ2hCQyxXQUFXO2dCQUFDO2FBQWE7UUFDM0I7SUFDRjtJQUVBLE9BQU8zQixJQUFJa0IsTUFBTSxDQUFDLEtBQUtGLElBQUksQ0FBQ25CO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZml0dHJhY2stcHJvLy4vcGFnZXMvYXBpL3BsYW4uanM/ZWQ1OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9hcGkvcGxhbi5qc1xuaW1wb3J0IHsgZ2VuZXJhdGVQcm9mZXNzaW9uYWxQbGFuIH0gZnJvbSAnLi4vLi4vbGliL3BsYW5HZW5lcmF0b3InO1xuXG5sZXQgc2F2ZWRQbGFuID0gbnVsbDtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICAvLyBQT1NUIOKAlCBnZW5lcmF0ZSBhIG5ldyBwbGFuXG4gIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICBjb25zdCBwcm9maWxlID0gcmVxLmJvZHkgfHwge307XG4gICAgY29uc3QgcGxhbiA9IGdlbmVyYXRlUHJvZmVzc2lvbmFsUGxhbihwcm9maWxlKTtcblxuICAgIC8vIEF1dG8tcmVmaW5lIGlmIE9wZW5BSSBrZXkgZXhpc3RzXG4gICAgaWYgKHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZWZpbmVVcmwgPSBwcm9jZXNzLmVudi5WRVJDRUxfVVJMXG4gICAgICAgICAgPyBgaHR0cHM6Ly8ke3Byb2Nlc3MuZW52LlZFUkNFTF9VUkx9L2FwaS9haS1yZWZpbmUtcGxhbmBcbiAgICAgICAgICA6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FpLXJlZmluZS1wbGFuJztcblxuICAgICAgICBjb25zdCByZWZpbmVSZXMgPSBhd2FpdCBmZXRjaChyZWZpbmVVcmwsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHBsYW4sIHByb2ZpbGUgfSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlZmluZVJlcy5vaykge1xuICAgICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZWZpbmVSZXMuanNvbigpO1xuICAgICAgICAgIGNvbnN0IHJlZmluZWQgPSBqc29uLnJlZmluZWQgfHwgcGxhbjtcbiAgICAgICAgICBzYXZlZFBsYW4gPSByZWZpbmVkO1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihyZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkFJIHJlZmluZSBmYWlsZWQ6XCIsIGVyci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzYXZlZFBsYW4gPSBwbGFuO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihwbGFuKTtcbiAgfVxuXG4gIC8vIEdFVCDigJQgcmV0dXJuIHNhdmVkIHBsYW4gb3IgY3JlYXRlIGRlZmF1bHQgb25lXG4gIGlmICghc2F2ZWRQbGFuKSB7XG4gICAgc2F2ZWRQbGFuID0gZ2VuZXJhdGVQcm9mZXNzaW9uYWxQbGFuKHtcbiAgICAgIGdvYWw6ICdHZW5lcmFsIEZpdG5lc3MnLFxuICAgICAgZXhwZXJpZW5jZTogJ2JlZ2lubmVyJyxcbiAgICAgIGRheXNQZXJXZWVrOiAzLFxuICAgICAgdGltZVBlclNlc3Npb246IDQwLFxuICAgICAgZXF1aXBtZW50OiBbJ2JvZHl3ZWlnaHQnXVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHNhdmVkUGxhbik7XG59XG5cbiJdLCJuYW1lcyI6WyJnZW5lcmF0ZVByb2Zlc3Npb25hbFBsYW4iLCJzYXZlZFBsYW4iLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwicHJvZmlsZSIsImJvZHkiLCJwbGFuIiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwicmVmaW5lVXJsIiwiVkVSQ0VMX1VSTCIsInJlZmluZVJlcyIsImZldGNoIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImpzb24iLCJyZWZpbmVkIiwic3RhdHVzIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJtZXNzYWdlIiwiZ29hbCIsImV4cGVyaWVuY2UiLCJkYXlzUGVyV2VlayIsInRpbWVQZXJTZXNzaW9uIiwiZXF1aXBtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/plan.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fplan&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cplan.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();